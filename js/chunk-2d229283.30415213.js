(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d229283"],{dbf5:function(t,e,s){"use strict";s.r(e);var a=s("4ec3"),o={name:"order",components:{},data:()=>({list:[],columns:[{dataIndex:"trade_no",slots:{title:"customTitle"},scopedSlots:{customRender:"trade_no"}},{dataIndex:"plan.name",slots:{title:"customTitle1"},scopedSlots:{customRender:"plan.name"}},{dataIndex:"period",slots:{title:"customTitle2"},scopedSlots:{customRender:"period"}},{dataIndex:"total_amount",slots:{title:"customTitle3"},scopedSlots:{customRender:"total_amount"}},{dataIndex:"status",slots:{title:"customTitle4"},scopedSlots:{customRender:"status"}},{dataIndex:"created_at",slots:{title:"customTitle5"},scopedSlots:{customRender:"created_at"}},{dataIndex:"action",slots:{title:"customTitle6"},fixed:"right",scopedSlots:{customRender:"action"}}],loading:!0,statusLabel:["processing","warning","default","success","warning"],config:{}}),mounted(){this.getData()},methods:{getData(){Object(a.i)().then(t=>{this.config=t.data}),Object(a.p)().then(t=>{this.list=t.data,this.loading=!1,this.$emit("changeSpin",!1)})},cancelOrder(t){Object(a.a)({trade_no:t}).then(t=>{t.data&&(this.$message.success("取消成功"),this.getData())})}},filters:{formatDate:function(t){if(!t)return!1;10===t.toString().length&&(t*=1e3);let e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;let o=e.getDate();o=o<10?"0"+o:o;let n=e.getHours();n=n<10?"0"+n:n;let l=e.getMinutes();l=l<10?"0"+l:l;let r=e.getSeconds();return s+"-"+a+"-"+o+" "+n+":"+l+":"+(r=r<10?"0"+r:r)},money:t=>(t/100).toFixed(2)}},n=s("e607"),l=Object(n.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a-card",{staticStyle:{width:"100%"}},[s("a-table",{attrs:{columns:t.columns,"data-source":t.list,loading:t.loading},scopedSlots:t._u([{key:"period",fn:function(e){return s("span",{},[s("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("plan.period."+e)))])])}},{key:"total_amount",fn:function(e){return s("span",{},[t._v(t._s(t.config.currency_symbol)+" "+t._s(t._f("money")(e))+" ")])}},{key:"status",fn:function(e){return s("span",{staticClass:"badge badge-dot"},[s("a-badge",{attrs:{status:t.statusLabel[e]}}),t._v(" "+t._s(t.$t("order.table.status_"+e))+" ")],1)}},{key:"created_at",fn:function(e){return s("span",{},[t._v(" "+t._s(t._f("formatDate")(e))+" ")])}},{key:"action",fn:function(e,a){return s("span",{},[s("div",{staticClass:"editable-row-operations"},[2!==a.status?s("a",{staticClass:"text-primary",on:{click:function(e){return t.$router.push({name:"checkout",params:{id:a.trade_no}})}}},[t._v(t._s(t.$t("order.table.button_1")))]):t._e(),s("br"),0===a.status?s("a",{staticClass:"text-primary mt-4",on:{click:function(e){return t.cancelOrder(a.trade_no)}}},[t._v(t._s(t.$t("order.table.button_2")))]):t._e()])])}}])},[s("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[s("a-icon",{staticClass:"mr-5",attrs:{type:"align-left"}}),t._v(t._s(t.$t("order.table.title_1")))],1),s("span",{attrs:{slot:"customTitle1"},slot:"customTitle1"},[t._v(t._s(t.$t("order.table.title_7")))]),s("span",{attrs:{slot:"customTitle2"},slot:"customTitle2"},[t._v(t._s(t.$t("order.table.title_2")))]),s("span",{attrs:{slot:"customTitle3"},slot:"customTitle3"},[t._v(t._s(t.$t("order.table.title_3")))]),s("span",{attrs:{slot:"customTitle4"},slot:"customTitle4"},[t._v(t._s(t.$t("order.table.title_4")))]),s("span",{attrs:{slot:"customTitle5"},slot:"customTitle5"},[t._v(t._s(t.$t("order.table.title_5")))]),s("span",{attrs:{slot:"customTitle6"},slot:"customTitle6"},[t._v(t._s(t.$t("order.table.title_6")))])])],1)],1)},[],!1,null,"5f407d0b",null);e.default=l.exports}}]);